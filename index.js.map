{"version":3,"file":"index.js","sources":["../src/js/menu.js","../src/js/best-sellers.js","../src/js/size-comparison.js"],"sourcesContent":["(() => {\n  const menuRef = document.querySelector('[data-menu]');\n  const openMenuBtn = document.querySelector('[data-menu-open]');\n  const closeMenuBtn = document.querySelector('[data-menu-close]');\n  const body = document.body;\n\n  if (menuRef && openMenuBtn && closeMenuBtn) {\n    const toggleMenu = () => {\n      menuRef.classList.toggle('is-open');\n      body.classList.toggle('is-menu-open');\n    };\n\n    openMenuBtn.addEventListener('click', toggleMenu);\n    closeMenuBtn.addEventListener('click', toggleMenu);\n  }\n})();","document.addEventListener(\"DOMContentLoaded\", () => {\n  const productsContainer = document.querySelector(\".products\");\n  const viewAllBtn = document.querySelector(\".view-all-link\");\n\n  let isExpanded = false;\n\n  const createProductCard = (product) => {\n    const {\n      name,\n      price,\n      oldPrice,\n      isSellingFast,\n      isSoldOut,\n      isDiscount,\n      imageUrl,\n      imageUrl2x,\n    } = product;\n\n    let labels = \"\";\n    if (isSellingFast) labels += `<span class=\"label selling-fast\">SELLING FAST</span>`;\n    if (isDiscount) {\n      const shiftClass = isSellingFast ? \"shifted\" : \"\";\n      labels += `<span class=\"label discount ${shiftClass}\">20% OFF</span>`;\n    }\n    if (isSoldOut) labels += `<span class=\"label sold-out\">SOLD OUT</span>`;\n\n    const hasOldPrice = oldPrice !== null && oldPrice !== undefined;\n    const priceClass = hasOldPrice ? \"price discounted\" : \"price\";\n\n    const priceHtml = hasOldPrice\n      ? `<span class=\"${priceClass}\">$${price}</span> <span class=\"old-price\">$${oldPrice}</span>`\n      : `<span class=\"${priceClass}\">$${price}</span>`;\n\n    const soldOutClass = isSoldOut ? \"sold-out-card\" : \"\";\n\n    return `\n      <div class=\"product-card ${soldOutClass}\">\n        <div class=\"product-image-wrapper\">\n          ${labels}\n          <img \n            src=\"${imageUrl}\" \n            srcset=\"${imageUrl2x} 2x\" \n            alt=\"${name}\" \n            class=\"product-image\" \n          />\n          <div class=\"sizes\">\n            <button>S</button>\n            <button>M</button>\n            <button>L</button>\n            <button>XL</button>\n            <button>2XL</button>\n            <button>3XL</button>\n            <button>4XL</button>\n          </div>\n        </div>\n        <div class=\"card-info-wrapper\">\n          <div class=\"card-info\">\n            <p class=\"product-name\">${name}</p>\n            <div class=\"product-prices\">${priceHtml}</div>\n          </div>\n          <button class=\"cart-btn\" ${isSoldOut ? \"disabled\" : \"\"}>\n            <svg class=\"cart-icon\" width=\"16\" height=\"16\">\n              <use href=\"./img/symbol-defs.svg#icon-cart\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    `;\n  };\n\n  fetch(\"/js/json/products.json\")\n    .then((res) => res.json())\n    .then((data) => {\n      productsContainer.innerHTML = data.map(createProductCard).join(\"\");\n    })\n    .catch((err) => console.error(\"Ошибка загрузки:\", err));\n\n  viewAllBtn.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    isExpanded = !isExpanded;\n    productsContainer.classList.toggle(\"expanded\", isExpanded);\n\n    const span = viewAllBtn.querySelector(\".view-all-link-text\");\n    if (span) span.textContent = isExpanded ? \"Hide\" : \"View all\";\n\n    viewAllBtn.classList.toggle(\"is-expanded\", isExpanded);\n  });\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const wrapper = document.querySelector('.img-wrapper');\n  const before = wrapper.querySelector('.before-wrapper');\n  const after  = wrapper.querySelector('.after-wrapper');\n  const handle = wrapper.querySelector('.slider-handle');\n\n  let dragging = false;\n\n  function setPos(clientX) {\n    const r = wrapper.getBoundingClientRect();\n    let x = Math.max(0, Math.min(clientX - r.left, r.width));\n    const p = (x / r.width) * 100;\n\n    before.style.clipPath = `inset(0 ${100 - p}% 0 0)`;\n    after.style.clipPath  = `inset(0 0 0 ${p}%)`;\n\n    handle.style.left = `${p}%`;\n  }\n\n  const down = e => {\n    dragging = true;\n    setPos(e.touches ? e.touches[0].clientX : e.clientX);\n    e.preventDefault();\n  };\n  const move = e => {\n    if (!dragging) return;\n    if (e.touches) e.preventDefault();\n    setPos(e.touches ? e.touches[0].clientX : e.clientX);\n  };\n  const up = () => dragging = false;\n\n  handle.addEventListener('mousedown', down);\n  handle.addEventListener('touchstart', down, { passive: false });\n  document.addEventListener('mousemove', move);\n  document.addEventListener('touchmove', move, { passive: false });\n  document.addEventListener('mouseup', up);\n  document.addEventListener('touchend', up);\n\n  wrapper.addEventListener('click', e => setPos(e.clientX));\n});\n\nfunction setPos(clientX) {\n  const r = wrapper.getBoundingClientRect();\n  let x = Math.max(0, Math.min(clientX - r.left, r.width));\n  const p = (x / r.width) * 100;\n\n  before.style.clipPath = `inset(0 ${100 - p}% 0 0)`;\n\n  after.style.clipPath  = `inset(0 0 0 ${p}%)`;\n\n  handle.style.left = `${p}%`;\n}\n"],"names":["menuRef","openMenuBtn","closeMenuBtn","body","toggleMenu","productsContainer","viewAllBtn","isExpanded","createProductCard","product","name","price","oldPrice","isSellingFast","isSoldOut","isDiscount","imageUrl","imageUrl2x","labels","hasOldPrice","priceClass","priceHtml","res","data","err","span","wrapper","before","after","handle","dragging","setPos","clientX","r","p","down","e","move","up"],"mappings":"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"}